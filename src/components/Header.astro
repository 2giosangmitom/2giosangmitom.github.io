---
const routes = [
  { name: 'Home', path: '/' },
  { name: 'About', path: '/about' },
  { name: 'Articles', path: '/articles' },
  { name: 'Tags', path: '/tags' },
  { name: 'Uses', path: '/uses' },
  { name: 'Contact', path: '/contact' }
];
---

<header class="header">
  <nav class="header__nav">
    <ul>
      {
        routes.map((route) => (
          <li>
            <a href={route.path} title={route.name} aria-label={route.name}>
              {route.name}
            </a>
          </li>
        ))
      }
    </ul>
  </nav>
  <div>Search</div>
</header>

<style>
  .header {
    padding: 1rem 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .header__nav ul {
    list-style: none;
    display: flex;
    gap: 1.5rem;
    padding: 0;
    margin: 0;
  }

  .header__nav a {
    color: var(--color-secondary);
    text-decoration: none;
    font-weight: 500;
    transition: color 0.2s ease-in-out;
  }
  .header__nav li:hover a,
  .header__nav li.active a {
    color: var(--color-accent);
  }
</style>

<script>
  const setActiveLink = () => {
    const currentPath = window.location.pathname;
    const navLinks = document.querySelectorAll('.header__nav li');

    navLinks.forEach((li) => {
      const anchor = li.querySelector('a');
      if (anchor && anchor.getAttribute('href') === currentPath) {
        li.classList.add('active');
      } else {
        li.classList.remove('active');
      }
    });
  };

  document.addEventListener('DOMContentLoaded', setActiveLink);
  document.addEventListener('astro:after-swap', setActiveLink);
</script>
